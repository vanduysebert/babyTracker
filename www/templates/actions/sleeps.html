<ion-view view-title="Slaap toevoegen">
  <ion-nav-buttons side="left">
    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>
  </ion-nav-buttons>

  <ion-content has-footer="true" has-header="true">
    <form name="sleepForm" novalidate="true">
      <div class="list card">
        <div class="item item-divider item-positive">
          Slaap gevat
        </div>
        <label class="item item-input" ng-if="sleep.datetimeInput">
          <span class="input-label">Tijdstip</span>
          <input name="dateTimeStart" ng-model="sleep.sleepData.startDateTime" ng-required="sleep.datetimeInput" type="datetime-local">
          <div class="animated zoomIn error-block" ng-if="sleepForm.dateTimeStart.$dirty" ng-messages="sleepForm.dateTimeStart.$error" role="alert">
            <div ng-messages-include="templates/partials/errorMessages.html"></div>
          </div>
        </label>
        <label class="item item-input" ng-if="!sleep.datetimeInput">
          <span class="input-label">Datum</span>
          <input name="dateStart" ng-model="sleep.sleepData.startDate" ng-required="!sleep.datetimeInput" type="date">
          <div class="animated zoomIn error-block" ng-if="sleepForm.dateStart.$dirty" ng-messages="sleepForm.dateStart.$error" role="alert">
            <div ng-messages-include="templates/partials/errorMessages.html"></div>
          </div>
        </label>
        <label class="item item-input" ng-if="!sleep.datetimeInput">
          <span class="input-label">Tijd</span>
          <input name="timeStart" ng-model="sleep.sleepData.startTime" ng-required="!sleep.datetimeInput" type="time">
          <div class="animated zoomIn error-block" ng-if="sleepForm.timeStart.$dirty" ng-messages="sleepForm.timeStart.$error" role="alert">
            <div ng-messages-include="templates/partials/errorMessages.html"></div>
          </div>
        </label>
        <div class="item item-divider item-calm">
          Wakker geworden
        </div>
        <label class="item item-input" ng-if="sleep.datetimeInput">
          <span class="input-label">Tijdstip</span>
          <input name="dateTimeEnd" ng-model="sleep.sleepData.endDateTime" ng-required="sleep.datetimeInput" type="datetime-local">
          <div class="animated zoomIn error-block" ng-if="sleepForm.dateTimeEnd.$dirty" ng-messages="sleepForm.dateTimeEnd.$error" role="alert">
            <div ng-messages-include="templates/partials/errorMessages.html"></div>
          </div>
        </label>
        <label class="item item-input" ng-if="!sleep.datetimeInput">
          <span class="input-label">Datum</span>
          <input name="dateEnd" ng-model="sleep.sleepData.endDate" ng-required="!sleep.datetimeInput" type="date">
          <div class="animated zoomIn error-block" ng-if="sleepForm.dateEnd.$dirty" ng-messages="sleepForm.dateEnd.$error" role="alert">
            <div ng-messages-include="templates/partials/errorMessages.html"></div>
          </div>
        </label>
        <label class="item item-input" ng-if="!sleep.datetimeInput">
          <span class="input-label">Tijd</span>
          <input name="timeEnd" ng-model="sleep.sleepData.endTime" ng-required="!sleep.datetimeInput" type="time">
          <div class="animated zoomIn error-block" ng-if="sleepForm.timeEnd.$dirty" ng-messages="sleepForm.timeEnd.$error" role="alert">
            <div ng-messages-include="templates/partials/errorMessages.html"></div>
          </div>
        </label>
        <div class="item item-divider item-assertive">
          Opmerking
        </div>
        <label class="item item-input">
          <span class="input-label">Opmerking</span>
          <input ng-model="sleep.sleepData.remark" type="text">
        </label>
      </div>
      <div class="card" ng-if="sleep.error != ''">
        <div class="item item-icon-left ion-alert item-assertive item-text-wrap">
          {{sleep.error}}
        </div>
      </div>
      <div class="button button-full button-balanced" ng-disabled="sleepForm.$invalid" on-tap="sleep.addSleep()">
        Plaats
      </div>
    </form>
  </ion-content>
  <ion-tabs class="tabs-positive tabs-icon-top">
    <ion-tab icon-off="ion-ios-list-outline" icon-on="ion-ios-list" title="Tijdlijn" ui-sref="child.posts"></ion-tab>
    <ion-tab icon-off="ion-ios-body-outline" icon-on="ion-ios-body" title="Profiel" ui-sref="child.profile"></ion-tab>
    <!-- TODO: add badge voor volgverzoeken (via ChirldCtrl) -->
    <ion-tab badge-style="badge-assertive" badge="badges.followRequests" icon-off="ion-ios-people-outline" icon-on="ion-ios-people" title="Volgers" ui-sref="child.followers"></ion-tab>
    <ion-tab icon-off="ion-ios-keypad-outline" icon-on="ion-ios-keypad" title="Acties" ui-sref="child.actions"></ion-tab>
  </ion-tabs>
</ion-view>
