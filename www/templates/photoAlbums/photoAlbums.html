<ion-view view-title="Foto albums">
  <ion-nav-buttons side="left">
    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-clear"  on-tap="albums.showDelete = !albums.showDelete"><span ng-if="!albums.showDelete">Wijzig</span><span ng-if="albums.showDelete">Gereed</span></button>
  </ion-nav-buttons>

  <ion-content has-header="true" has-footer="true">
    <div class="row" ng-if="$index % 2 === 0" ng-repeat="al in albums.photoAlbums">
      <div class="col col-45 imageBorder card" ng-if="$index < albums.photoAlbums.length" >
        <h2 class="item item-divider item-calm item-text-wrap">{{albums.photoAlbums[$index].title}}</h2>
        <img ui-sref="child.photoAlbum({'albumId': albums.photoAlbums[$index].$id})" ng-src="{{albums.photoAlbums[$index].photos[0].src}}" width="100%"/>
        <div class="item item-button-right">
          <h4>{{albums.photoAlbums[$index].photos.length}}
            <span ng-if="albums.photoAlbums[$index].photos.length != 0">foto's</span>
            <span ng-if="albums.photoAlbums[$index].photos.length == 0">foto</span>
          </h4>
          <button ng-if="albums.showDelete" on-tap="albums.deleteAlbum($index)" class="button icon ion-ios-trash button-assertive"></button>

        </div>
      </div>
      <div class="col col-45 imageBorder card" ng-if="$index + 1 < albums.photoAlbums.length" >
        <h2 class="item item-divider item-positive">{{albums.photoAlbums[$index+1].title}}</h2>
        <img ui-sref="child.photoAlbum({'albumId': albums.photoAlbums[$index+1].$id})" ng-src="{{albums.photoAlbums[$index + 1].photos[0].src}}" width="100%"/>
        <div class="item item-button-right">
          <h4>{{albums.photoAlbums[$index + 1].photos.length}}
            <span ng-if="albums.photoAlbums[$index+1].photos.length != 0">foto's</span>
            <span ng-if="albums.photoAlbums[$index+1].photos.length == 0">foto</span></h4>
            <button ng-if="albums.showDelete" on-tap="albums.deleteAlbum($index)" class="button icon ion-ios-trash button-assertive"></button>
        </div>

      </div>

    </div>
    <div class="lowerContent">

    </div>
  </ion-content>
  <ion-tabs class="tabs-positive tabs-icon-top" nav-clear>
    <ion-tab icon-off="ion-ios-list-outline" icon-on="ion-ios-list" title="Tijdlijn" ui-sref="child.posts"></ion-tab>
    <ion-tab icon-off="ion-ios-body-outline" icon-on="ion-ios-body" title="Profiel" ui-sref="child.profile"></ion-tab>
    <!-- TODO: add badge voor volgverzoeken (via ChirldCtrl) -->
    <ion-tab badge-style="badge-assertive" badge="badges.followRequests" icon-off="ion-ios-people-outline" icon-on="ion-ios-people" title="Volgers" ui-sref="child.followers"></ion-tab>
    <ion-tab icon-off="ion-ios-keypad-outline" icon-on="ion-ios-keypad" title="Acties" ui-sref="child.actions"></ion-tab>
  </ion-tabs>
</ion-view>
