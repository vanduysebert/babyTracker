<ion-view>
  <ion-header-bar align-title="center" class="bar-stable">
    <h1 class="title"><img class="title-image" src="img/BTLogoFull.png"/></h1>
  </ion-header-bar>
  <ion-header-bar align-title="center" class="bar-subheader bar-positive">

    <h1 class="title">Registratie</h1>
    <div class="buttons">
      <a class="button button-clear" ui-sref="login">Login</a>
    </div>
  </ion-header-bar>
  <ion-content padding="true">
    <div class="background"></div>
    <form name="registerForm" novalidate>
      <div class="list">
        <label class="item item-input item-floating-label animated" ng-class="{'shake errorForm': (registerForm.nameUser.$invalid && registerForm.nameUser.$touched), 'successForm': (registerForm.nameUser.$valid && registerForm.nameUser.$dirty)}">
          <span class="input-label">Naam</span>
          <input name="nameUser" ng-model="signup.user.lastName" placeholder="Naam" required type="text">
          <div class="animated zoomIn error-block" ng-if="registerForm.nameUser.$touched" ng-messages="registerForm.nameUser.$error" role="alert">
            <div ng-messages-include="templates/partials/errorMessages.html"></div>
          </div>
        </label>

        <label class="item item-input item-floating-label animated" ng-class="{'shake errorForm': (registerForm.firstNameUser.$invalid && registerForm.firstNameUser.$touched), 'successForm': (registerForm.firstNameUser.$valid && registerForm.firstNameUser.$dirty)}">
          <span class="input-label">Voornaam</span>
          <input name="firstNameUser" ng-model="signup.user.firstName" placeholder="Voornaam" required type="text">
          <div class="animated zoomIn error-block" ng-if="registerForm.firstNameUser.$dirty && registerForm.firstNameUser.$error" ng-messages="registerForm.firstNameUser.$error" role="alert">
            <div ng-messages-include="templates/partials/errorMessages.html"></div>
          </div>
        </label>
        <label class="item item-input item-floating-label animated" ng-class="{'shake errorForm': (registerForm.emailUser.$invalid && registerForm.emailUser.$touched), 'successForm': (registerForm.emailUser.$valid && registerForm.emailUser.$dirty)}">
          <span class="input-label">Email</span>
          <input name="emailUser" ng-model="signup.user.email" placeholder="Email" required type="email">
          <div class="animated zoomIn error-block" ng-if="registerForm.emailUser.$touched && registerForm.emailUser.$error" ng-messages="registerForm.emailUser.$error" role="alert">
            <div ng-messages-include="templates/partials/errorMessages.html"></div>
          </div>
        </label>
        <label class="item">
          <span class="greyLabel">Geslacht</span>
          <ion-radio ng-model="signup.user.gender" ng-value="'male'">Man</ion-radio>
          <ion-radio ng-model="signup.user.gender" ng-value="'female'">Vrouw</ion-radio>
        </label>

        <label class="item item-input item-floating-label animated" ng-class="{'shake errorForm': (registerForm.passwordUser.$invalid && registerForm.passwordUser.$touched), 'successForm': (registerForm.passwordUser.$valid && registerForm.passwordUser.$dirty)}">
          <span class="input-label">Paswoord</span>
          <input name="passwordUser" ng-minlength="5" ng-model="signup.user.password" placeholder="Paswoord" required type="password">
          <div class="animated zoomIn error-block" ng-if="registerForm.passwordUser.$touched" ng-messages="registerForm.passwordUser.$error" role="alert">
            <div ng-messages-include="templates/partials/errorMessages.html"></div>
          </div>
        </label>
        <label class="item item-input item-floating-label animated" ng-class="{'shake errorForm': (registerForm.passwordRepeat.$invalid && registerForm.passwordRepeat.$touched), 'successForm': (registerForm.passwordRepeat.$valid && registerForm.passwordRepeat.$dirty)}">
          <span class="input-label">Herhaal paswoord</span>
          <input bt-compare-to="signup.user.password" name="passwordRepeat" ng-disabled="registerForm.passwordUser.$pristine" ng-model="signup.user.passwordConfirm" placeholder="Herhaal paswoord" required type="password">
          <div class="animated zoomIn error-block" ng-if="registerForm.passwordRepeat.$dirty" ng-messages="registerForm.passwordRepeat.$error" role="alert">
            <div ng-messages-include="templates/partials/errorMessages.html"></div>
          </div>
        </label>
      </div>
      <button class="button button-balanced button-block icon-left ion-log-in" ng-click="signup.createUser(registerForm)" ng-disabled="registerForm.$invalid">Registreren</button>
    </form>

    <div class="error-container card" ng-if="signup.signupFail">
      <p>
        <i class="ion-information-circled"></i>{{signup.failMessage}}</p>
      <p class="center">
        <a class="button button-icon icon ion-ios-help" href="mailto:vanduysebert@gmail.com"></a>
      </p>
    </div>

  </ion-content>
</ion-view>
